"0","df_by_date_month <- df %>% group_by(month_added = floor_date(date_added, ""month""), type) %>%"
"0","  summarise(added_today = n())"
"2","`summarise()` has grouped output by 'month_added'. You can override using the `.groups` argument."
"0","wd <- reshape(data = data.frame(df_by_date_month),"
"0","              idvar = ""month_added"","
"0","              v.names = ""added_today"","
"0","              timevar = ""type"","
"0","              direction = ""wide"")"
"0",""
"0","names(wd)[2] <- ""added_today_movie"""
"0","names(wd)[3] <- ""added_today_tv_show"""
"0","wd$added_today_movie[is.na(wd$added_today_movie)] <- 0"
"0","wd$added_today_tv_show[is.na(wd$added_today_tv_show)] <- 0"
"0","wd <-na.omit(wd)"
"0",""
"0","plot_ly(wd, x = wd$month_added, y = ~added_today_movie, "
"0","        type = 'bar', name = 'Movie', "
"0","        marker = list(color = '#bd3939')) %>% "
"0","  add_trace(y = ~added_today_tv_show, "
"0","            name = 'TV Show', "
"0","            marker = list(color = '#399ba3')) %>% "
"0","  layout(xaxis = list(categoryorder = 'array', "
"0","                      categoryarray = wd$month_added, "
"0","                      title = 'Он'), "
"0","         yaxis = list(title = 'Тоо'), "
"0","         barmode = 'stack', "
"0","         title = ""Сард нэмэгдсэн агуулгын хэмжээ"", margin = list(t = 54),"
"0","         legend = list(x = 100, y = 0.5))"
