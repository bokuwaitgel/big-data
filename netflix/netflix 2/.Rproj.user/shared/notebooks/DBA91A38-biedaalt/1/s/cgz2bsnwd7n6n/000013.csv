"0",""
"0","s <- strsplit(df$country, split = "", "")"
"0","cntry_split <- data.frame(type = rep(df$type, sapply(s, length)), country = unlist(s))"
"0","cntry_split$country <- as.character(gsub("","","""", cntry_split$country))"
"0",""
"0","amount_by_country <- na.omit(cntry_split) %>%"
"0","  group_by(country, type) %>%"
"0","  summarise(count = n())"
"2","`summarise()` has grouped output by 'country'. You can override using the `.groups` argument."
"0","w <- reshape(data = data.frame(amount_by_country), "
"0","             idvar = ""country"","
"0","             v.names = ""count"","
"0","             timevar = ""type"","
"0","             direction = ""wide"") %>% "
"0","  arrange(desc(count.Movie)) %>% top_n(12)"
"2","Selecting by count.TV Show"
"0","names(w)[2] <- ""count_movie"""
"0","names(w)[3] <- ""count_tv_show"""
"0","w <- w[order(desc(w$count_movie + w$count_tv_show)),] "
"0",""
"0","plot_ly(w, x = w$country, y = ~count_movie, "
"0","        type = 'bar', name = 'Movie', marker = list(color = '#bd3939')) %>% "
"0","  add_trace(y = ~count_tv_show, name = 'TV Show', marker = list(color = '#399ba3')) %>% "
"0","  layout(xaxis = list(categoryorder = ""array"", "
"0","                      categoryarray = w$country, "
"0","                      title = ""Улс""), "
"0","         yaxis = list(title = 'Өгөгдлийн тоо'),"
"0","         barmode = 'stack', "
"0","         title = ""Үйлдвэрлэсэн агуулгын хэмжээгээр эхний 12 улс"", margin = list(t = 54),"
"0","         legend = list(x = 100, y = 0.5)) "
